<div id="projectCreate" class="page">
  <div fxLayout="row" fxLayoutAlign="start start">
    <button (click)="goBackProjects()" color="primary" mat-button>
      <mat-icon> chevron_left </mat-icon>
    </button>
    <h2>Projetos</h2>
  </div>
  <div fxLayout="row" class="tab" fxLayoutGap="16px">
    <div [ngClass]="{ done: step > 0, active: step == 1 }" (click)="handleStep(1)" fxLayout="column" class="tab-group">
      <p class="tab-item">Cadastro</p>
      <span class="tab-border"></span>
    </div>
    <div [ngClass]="{ done: step > 1, active: step == 2 }" (click)="handleStep(2)" fxLayout="column" class="tab-group">
      <p class="tab-item">Recursos/Atividades</p>
      <span class="tab-border"></span>
    </div>
    <div [ngClass]="{ done: step > 2, active: step == 3 }" (click)="handleStep(3)" fxLayout="column" class="tab-group">
      <p class="tab-item">Acompanhamento</p>
      <span class="tab-border"></span>
    </div>
  </div>

  <app-projects-register-tab [hidden]="step != 1" [form]="projectForm" (onChange)="handleChanges($event)">
  </app-projects-register-tab>
  <app-projects-resources-tab [hidden]="step != 2" [form]="projectForm" [activityArray]="activityArray"
    [resourcesArray]="resourcesArray" (onChange)="handleChanges($event)">
  </app-projects-resources-tab>
  <app-projects-panel-tab [hidden]="step != 3" [form]="projectForm" (onChange)="handleChanges($event)">

  </app-projects-panel-tab>

  <div class="navigation-buttons" fxLayoutAlign="center end" fxLayoutGap="16px">
    <button mat-button *ngIf="step != 1" (click)="navigate('back')">
      Voltar
    </button>
    <button mat-flat-button *ngIf="step == 2 " (click)="navigate('next')" color="primary">
      Continuar
    </button>
    <button mat-flat-button *ngIf="step == 1" color="primary" (click)="handleStep(1)" (click)="saveProject()" >Salvar</button>
  </div>

</div>